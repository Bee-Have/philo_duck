==454219== Helgrind, a thread error detector
==454219== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==454219== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==454219== Command: ./philo 5 100 100 100
==454219== 
time-[0] id-[1] has taken a fork
time-[4] id-[1] has taken a fork
time-[5] id-[1] is eating
time-[9] id-[4] has taken a fork
time-[10] id-[4] has taken a fork
time-[11] id-[4] is eating
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #7 was created
==454219==    at 0x49AC152: clone (clone.S:71)
==454219==    by 0x48712EB: create_thread (createthread.c:101)
==454219==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==454219==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x1093B9: main (main.c:33)
==454219== 
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #3 was created
==454219==    at 0x49AC152: clone (clone.S:71)
==454219==    by 0x48712EB: create_thread (createthread.c:101)
==454219==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==454219==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109371: main (main.c:30)
==454219== 
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #1 is the program's root thread
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219==  Lock at 0x4A82210 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109E59: init_philo (init_struct.c:38)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a82210 is 80 bytes inside a block of size 320 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109E01: init_philo (init_struct.c:29)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== Possible data race during read of size 8 at 0x4A82208 by thread #7
==454219== Locks held: 1, at address 0x4A82210
==454219==    at 0x109587: check_all_alive (god_routine.c:42)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== This conflicts with a previous write of size 8 by thread #3
==454219== Locks held: none
==454219==    at 0x1096C7: eat_routine (eat.c:23)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x4a82208 is 72 bytes inside a block of size 320 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109E01: init_philo (init_struct.c:29)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
time-[106] id-[1] died
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #5 was created
==454219==    at 0x49AC152: clone (clone.S:71)
==454219==    by 0x48712EB: create_thread (createthread.c:101)
==454219==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==454219==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109371: main (main.c:30)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219==  Lock at 0x4A820B8 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a820b8 is 120 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219==  Lock at 0x4A820E0 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a820e0 is 160 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== Possible data race during write of size 4 at 0x1FFEFFF9E8 by thread #7
==454219== Locks held: none
==454219==    at 0x1095EB: check_all_alive (god_routine.c:47)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== This conflicts with a previous read of size 4 by thread #5
==454219== Locks held: 2, at addresses 0x4A820B8 0x4A820E0
==454219==    at 0x10A189: print_action (print_action_time.c:51)
==454219==    by 0x109763: eat_routine (eat.c:35)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x1ffefff9e8 is on thread #1's stack
==454219==  in frame #2, created by main (main.c:16)
==454219== 
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #2 was created
==454219==    at 0x49AC152: clone (clone.S:71)
==454219==    by 0x48712EB: create_thread (createthread.c:101)
==454219==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==454219==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109371: main (main.c:30)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219==  Lock at 0x4A82040 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a82040 is 0 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219==  Lock at 0x4A82068 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #2
==454219== Locks held: 2, at addresses 0x4A82040 0x4A82068
==454219==    at 0x109B8F: wait_time (wait.c:24)
==454219==    by 0x1097CE: eat_routine (eat.c:43)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== This conflicts with a previous write of size 4 by thread #7
==454219== Locks held: none
==454219==    at 0x1095EB: check_all_alive (god_routine.c:47)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x1ffefff9e8 is on thread #1's stack
==454219==  in frame #2, created by main (main.c:16)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219==  Lock at 0x4A82068 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219==  Lock at 0x4A82090 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a82090 is 80 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #3
==454219== Locks held: 2, at addresses 0x4A82068 0x4A82090
==454219==    at 0x10A189: print_action (print_action_time.c:51)
==454219==    by 0x1096F3: eat_routine (eat.c:25)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== This conflicts with a previous write of size 4 by thread #7
==454219== Locks held: none
==454219==    at 0x1095EB: check_all_alive (god_routine.c:47)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x1ffefff9e8 is on thread #1's stack
==454219==  in frame #2, created by main (main.c:16)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219==  Lock at 0x4A820B8 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a820b8 is 120 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219==  Lock at 0x4A820E0 was first observed
==454219==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F64: init_mutexs (init_struct.c:60)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Address 0x4a820e0 is 160 bytes inside a block of size 200 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109F13: init_mutexs (init_struct.c:53)
==454219==    by 0x109D97: init_philo (init_struct.c:21)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #5
==454219== Locks held: 2, at addresses 0x4A820B8 0x4A820E0
==454219==    at 0x109B73: wait_time (wait.c:19)
==454219==    by 0x1097CE: eat_routine (eat.c:43)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== This conflicts with a previous write of size 4 by thread #7
==454219== Locks held: none
==454219==    at 0x1095EB: check_all_alive (god_routine.c:47)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x1ffefff9e8 is on thread #1's stack
==454219==  in frame #2, created by main (main.c:16)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219== Possible data race during read of size 1 at 0x4A821D8 by thread #1
==454219== Locks held: none
==454219==    at 0x483F99C: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x483FC4A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109445: main (main.c:41)
==454219== 
==454219== This conflicts with a previous write of size 4 by thread #7
==454219== Locks held: none
==454219==    at 0x48767D1: __pthread_mutex_unlock_usercnt (pthread_mutex_unlock.c:52)
==454219==    by 0x48767D1: pthread_mutex_unlock (pthread_mutex_unlock.c:357)
==454219==    by 0x4840458: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x1095B0: check_all_alive (god_routine.c:43)
==454219==    by 0x1094E9: god_routine (god_routine.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219==  Address 0x4a821d8 is 24 bytes inside a block of size 320 alloc'd
==454219==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109E01: init_philo (init_struct.c:29)
==454219==    by 0x10931A: main (main.c:25)
==454219==  Block was alloc'd by thread #1
==454219== 
==454219== ---Thread-Announcement------------------------------------------
==454219== 
==454219== Thread #6 was created
==454219==    at 0x49AC152: clone (clone.S:71)
==454219==    by 0x48712EB: create_thread (createthread.c:101)
==454219==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==454219==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x109371: main (main.c:30)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219== Thread #6's call to pthread_mutex_lock failed
==454219==    with error code 22 (EINVAL: Invalid argument)
==454219==    at 0x483FF41: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x10989B: lock_fork_mutex (eat.c:61)
==454219==    by 0x1096D6: eat_routine (eat.c:24)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219== Thread #6 unlocked an invalid lock at 0x4A82040
==454219==    at 0x48403F6: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x1099E7: unlock_fork_mutex (eat.c:81)
==454219==    by 0x109704: eat_routine (eat.c:27)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== ----------------------------------------------------------------
==454219== 
==454219== Thread #6's call to pthread_mutex_unlock failed
==454219==    with error code 22 (EINVAL: Invalid argument)
==454219==    at 0x484051E: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x1099E7: unlock_fork_mutex (eat.c:81)
==454219==    by 0x109704: eat_routine (eat.c:27)
==454219==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==454219==    by 0x4872608: start_thread (pthread_create.c:477)
==454219==    by 0x49AC162: clone (clone.S:95)
==454219== 
==454219== 
==454219== Use --history-level=approx or =none to gain increased speed, at
==454219== the cost of reduced accuracy of conflicting-access information
==454219== For lists of detected and suppressed errors, rerun with: -s
==454219== ERROR SUMMARY: 3401 errors from 9 contexts (suppressed: 5970 from 62)
