==413198== Helgrind, a thread error detector
==413198== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==413198== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==413198== Command: ./philo 5 100 100 100
==413198== 
time-[0] id-[1] has taken a fork
time-[3] id-[1] has taken a fork
time-[3] id-[1] is eating
time-[9] id-[4] has taken a fork
time-[9] id-[4] has taken a fork
time-[12] id-[4] is eating
time-[104] id-[2] died
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #7 was created
==413198==    at 0x49AC152: clone (clone.S:71)
==413198==    by 0x48712EB: create_thread (createthread.c:101)
==413198==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==413198==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x1093B9: main (main.c:33)
==413198== 
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #5 was created
==413198==    at 0x49AC152: clone (clone.S:71)
==413198==    by 0x48712EB: create_thread (createthread.c:101)
==413198==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==413198==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109371: main (main.c:30)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198==  Lock at 0x4A820B8 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a820b8 is 120 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198==  Lock at 0x4A820E0 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a820e0 is 160 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198== Possible data race during write of size 4 at 0x1FFEFFF9E8 by thread #7
==413198== Locks held: none
==413198==    at 0x1095EB: check_all_alive (god_routine.c:47)
==413198==    by 0x1094E9: god_routine (god_routine.c:24)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198== 
==413198== This conflicts with a previous read of size 4 by thread #5
==413198== Locks held: 2, at addresses 0x4A820B8 0x4A820E0
==413198==    at 0x109B93: wait_time (wait.c:19)
==413198==    by 0x1097EE: eat_routine (eat.c:45)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198==  Address 0x1ffefff9e8 is on thread #1's stack
==413198==  in frame #2, created by main (main.c:16)
==413198== 
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #2 was created
==413198==    at 0x49AC152: clone (clone.S:71)
==413198==    by 0x48712EB: create_thread (createthread.c:101)
==413198==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==413198==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109371: main (main.c:30)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198==  Lock at 0x4A82040 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a82040 is 0 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198==  Lock at 0x4A82068 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #2
==413198== Locks held: 2, at addresses 0x4A82040 0x4A82068
==413198==    at 0x109BAF: wait_time (wait.c:24)
==413198==    by 0x1097EE: eat_routine (eat.c:45)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198== 
==413198== This conflicts with a previous write of size 4 by thread #7
==413198== Locks held: none
==413198==    at 0x1095EB: check_all_alive (god_routine.c:47)
==413198==    by 0x1094E9: god_routine (god_routine.c:24)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198==  Address 0x1ffefff9e8 is on thread #1's stack
==413198==  in frame #2, created by main (main.c:16)
==413198== 
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #3 was created
==413198==    at 0x49AC152: clone (clone.S:71)
==413198==    by 0x48712EB: create_thread (createthread.c:101)
==413198==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==413198==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109371: main (main.c:30)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198==  Lock at 0x4A82068 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198==  Lock at 0x4A82090 was first observed
==413198==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F84: init_mutexs (init_struct.c:60)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Address 0x4a82090 is 80 bytes inside a block of size 200 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109F33: init_mutexs (init_struct.c:53)
==413198==    by 0x109DB7: init_philo (init_struct.c:21)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #3
==413198== Locks held: 2, at addresses 0x4A82068 0x4A82090
==413198==    at 0x10A1A9: print_action (print_action_time.c:51)
==413198==    by 0x109713: eat_routine (eat.c:27)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198== 
==413198== This conflicts with a previous write of size 4 by thread #7
==413198== Locks held: none
==413198==    at 0x1095EB: check_all_alive (god_routine.c:47)
==413198==    by 0x1094E9: god_routine (god_routine.c:24)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198==  Address 0x1ffefff9e8 is on thread #1's stack
==413198==  in frame #2, created by main (main.c:16)
==413198== 
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #1 is the program's root thread
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198== Thread #1: pthread_mutex_destroy of a locked mutex
==413198==    at 0x483FC96: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109423: main (main.c:40)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198== Thread #1's call to pthread_mutex_destroy failed
==413198==    with error code 16 (EBUSY: Device or resource busy)
==413198==    at 0x483FD60: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109423: main (main.c:40)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198== Possible data race during read of size 1 at 0x4A821D8 by thread #1
==413198== Locks held: none
==413198==    at 0x483F99C: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x483FC4A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109445: main (main.c:41)
==413198== 
==413198== This conflicts with a previous write of size 4 by thread #7
==413198== Locks held: none
==413198==    at 0x48767D1: __pthread_mutex_unlock_usercnt (pthread_mutex_unlock.c:52)
==413198==    by 0x48767D1: pthread_mutex_unlock (pthread_mutex_unlock.c:357)
==413198==    by 0x4840458: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x1095B0: check_all_alive (god_routine.c:43)
==413198==    by 0x1094E9: god_routine (god_routine.c:24)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198==  Address 0x4a821d8 is 24 bytes inside a block of size 320 alloc'd
==413198==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109E21: init_philo (init_struct.c:29)
==413198==    by 0x10931A: main (main.c:25)
==413198==  Block was alloc'd by thread #1
==413198== 
==413198== ---Thread-Announcement------------------------------------------
==413198== 
==413198== Thread #6 was created
==413198==    at 0x49AC152: clone (clone.S:71)
==413198==    by 0x48712EB: create_thread (createthread.c:101)
==413198==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==413198==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109371: main (main.c:30)
==413198== 
==413198== ----------------------------------------------------------------
==413198== 
==413198== Thread #6 unlocked an invalid lock at 0x4A82040
==413198==    at 0x48403F6: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x109A07: unlock_fork_mutex (eat.c:83)
==413198==    by 0x109724: eat_routine (eat.c:29)
==413198==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==413198==    by 0x4872608: start_thread (pthread_create.c:477)
==413198==    by 0x49AC162: clone (clone.S:95)
==413198== 
==413198== 
==413198== Use --history-level=approx or =none to gain increased speed, at
==413198== the cost of reduced accuracy of conflicting-access information
==413198== For lists of detected and suppressed errors, rerun with: -s
==413198== ERROR SUMMARY: 49 errors from 7 contexts (suppressed: 24797 from 54)
