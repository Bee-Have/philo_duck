==452134== Helgrind, a thread error detector
==452134== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==452134== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==452134== Command: ./philo 5 100 100 100
==452134== 
time-[0] id-[1] has taken a fork
time-[5] id-[1] has taken a fork
time-[6] id-[1] is eating
time-[10] id-[4] has taken a fork
time-[11] id-[4] has taken a fork
time-[13] id-[4] is eating
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #7 was created
==452134==    at 0x49AC152: clone (clone.S:71)
==452134==    by 0x48712EB: create_thread (createthread.c:101)
==452134==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==452134==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x1093C3: main (main.c:33)
==452134== 
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #2 was created
==452134==    at 0x49AC152: clone (clone.S:71)
==452134==    by 0x48712EB: create_thread (createthread.c:101)
==452134==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==452134==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10937B: main (main.c:30)
==452134== 
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #1 is the program's root thread
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134==  Lock at 0x4A82040 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82040 is 0 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134==  Lock at 0x4A82068 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== Possible data race during read of size 8 at 0x4A821C8 by thread #7
==452134== Locks held: none
==452134==    at 0x109555: check_all_alive (god_routine.c:41)
==452134==    by 0x1094CA: god_routine (god_routine.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== This conflicts with a previous write of size 8 by thread #2
==452134== Locks held: 2, at addresses 0x4A82040 0x4A82068
==452134==    at 0x10974B: eat_routine (eat.c:40)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134==  Address 0x4a821c8 is 8 bytes inside a block of size 120 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109DB0: init_philo (init_struct.c:29)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
time-[106] id-[1] died
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #5 was created
==452134==    at 0x49AC152: clone (clone.S:71)
==452134==    by 0x48712EB: create_thread (createthread.c:101)
==452134==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==452134==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10937B: main (main.c:30)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134==  Lock at 0x4A820B8 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a820b8 is 120 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134==  Lock at 0x4A820E0 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a820e0 is 160 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== Possible data race during write of size 8 at 0x4A82210 by thread #5
==452134== Locks held: 2, at addresses 0x4A820B8 0x4A820E0
==452134==    at 0x10974B: eat_routine (eat.c:40)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== This conflicts with a previous read of size 8 by thread #7
==452134== Locks held: none
==452134==    at 0x109555: check_all_alive (god_routine.c:41)
==452134==    by 0x1094CA: god_routine (god_routine.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134==  Address 0x4a82210 is 80 bytes inside a block of size 120 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109DB0: init_philo (init_struct.c:29)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134==  Lock at 0x4A820B8 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a820b8 is 120 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134==  Lock at 0x4A820E0 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a820e0 is 160 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== Possible data race during write of size 4 at 0x1FFEFFF9E8 by thread #7
==452134== Locks held: none
==452134==    at 0x1095A7: check_all_alive (god_routine.c:45)
==452134==    by 0x1094CA: god_routine (god_routine.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== This conflicts with a previous read of size 4 by thread #5
==452134== Locks held: 2, at addresses 0x4A820B8 0x4A820E0
==452134==    at 0x109B16: wait_time (wait.c:19)
==452134==    by 0x109771: eat_routine (eat.c:41)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134==  Address 0x1ffefff9e8 is on thread #1's stack
==452134==  in frame #2, created by main (main.c:16)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134==  Lock at 0x4A82040 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82040 is 0 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134==  Lock at 0x4A82068 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #2
==452134== Locks held: 2, at addresses 0x4A82040 0x4A82068
==452134==    at 0x109B32: wait_time (wait.c:24)
==452134==    by 0x109771: eat_routine (eat.c:41)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== This conflicts with a previous write of size 4 by thread #7
==452134== Locks held: none
==452134==    at 0x1095A7: check_all_alive (god_routine.c:45)
==452134==    by 0x1094CA: god_routine (god_routine.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134==  Address 0x1ffefff9e8 is on thread #1's stack
==452134==  in frame #2, created by main (main.c:16)
==452134== 
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #3 was created
==452134==    at 0x49AC152: clone (clone.S:71)
==452134==    by 0x48712EB: create_thread (createthread.c:101)
==452134==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==452134==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10937B: main (main.c:30)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134==  Lock at 0x4A82068 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82068 is 40 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134==  Lock at 0x4A82090 was first observed
==452134==    at 0x4843D9D: pthread_mutex_init (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109F17: init_mutexs (init_struct.c:59)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Address 0x4a82090 is 80 bytes inside a block of size 200 alloc'd
==452134==    at 0x483C893: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x109EC6: init_mutexs (init_struct.c:52)
==452134==    by 0x109D3A: init_philo (init_struct.c:21)
==452134==    by 0x10931A: main (main.c:25)
==452134==  Block was alloc'd by thread #1
==452134== 
==452134== Possible data race during read of size 4 at 0x1FFEFFF9E8 by thread #3
==452134== Locks held: 2, at addresses 0x4A82068 0x4A82090
==452134==    at 0x10A13C: print_action (print_action_time.c:51)
==452134==    by 0x1096B9: eat_routine (eat.c:25)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== This conflicts with a previous write of size 4 by thread #7
==452134== Locks held: none
==452134==    at 0x1095A7: check_all_alive (god_routine.c:45)
==452134==    by 0x1094CA: god_routine (god_routine.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134==  Address 0x1ffefff9e8 is on thread #1's stack
==452134==  in frame #2, created by main (main.c:16)
==452134== 
==452134== ---Thread-Announcement------------------------------------------
==452134== 
==452134== Thread #6 was created
==452134==    at 0x49AC152: clone (clone.S:71)
==452134==    by 0x48712EB: create_thread (createthread.c:101)
==452134==    by 0x4872E0F: pthread_create@@GLIBC_2.2.5 (pthread_create.c:817)
==452134==    by 0x4842917: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10937B: main (main.c:30)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134== Thread #6's call to pthread_mutex_lock failed
==452134==    with error code 22 (EINVAL: Invalid argument)
==452134==    at 0x483FF41: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10983E: lock_fork_mutex (eat.c:59)
==452134==    by 0x10969C: eat_routine (eat.c:24)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134== Thread #6 unlocked an invalid lock at 0x4A82040
==452134==    at 0x48403F6: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10998A: unlock_fork_mutex (eat.c:79)
==452134==    by 0x1096CA: eat_routine (eat.c:27)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== ----------------------------------------------------------------
==452134== 
==452134== Thread #6's call to pthread_mutex_unlock failed
==452134==    with error code 22 (EINVAL: Invalid argument)
==452134==    at 0x484051E: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x10998A: unlock_fork_mutex (eat.c:79)
==452134==    by 0x1096CA: eat_routine (eat.c:27)
==452134==    by 0x4842B1A: ??? (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_helgrind-amd64-linux.so)
==452134==    by 0x4872608: start_thread (pthread_create.c:477)
==452134==    by 0x49AC162: clone (clone.S:95)
==452134== 
==452134== 
==452134== Use --history-level=approx or =none to gain increased speed, at
==452134== the cost of reduced accuracy of conflicting-access information
==452134== For lists of detected and suppressed errors, rerun with: -s
==452134== ERROR SUMMARY: 20 errors from 8 contexts (suppressed: 60 from 47)
